在上一节中, 我们讲到, 要制作一个 QQ 机器人, 我们需要与 Go-CqHttp 进行通信. 然而, Go-CqHttp 的操作接口与上报数据如此多, 如果我们从 0 开始开发, 肯定会遇到诸多困难.



## 使用

使用 EleCho.GoCqHttpSdk 是极其便捷的, 你只需要为你的项目添加 EleCho.GoCqHttpSdk 包引用即可. 剩下的, 就是享受 SDK 为你带来的舒适与便捷了.



## 建立通信

Go-CqHttp 支持四种通信, EleCho.GoCqHttpSdk 对它们的支持如下:

- [x] 正向 HTTP (机器人程序向 Go-CqHttp 发送 HTTP 请求实现执行操作)
- [x] 反向 HTTP (Go-CqHttp 向机器人程序发送 HTTP 请求实现消息上报)
- [x] 正向 WebSocket (机器人程序通过 WebSocket 连接到 Go-CqHttp 进行双向通信, 执行操作或消息上报)
- [ ] 反向 WebSocket (和正向 WebSocket 一样, 只不过是由 Go-CqHttp 连接到机器人程序)



建立一个 WebSocket 会话, 你可以使用下面的代码:

```csharp
// 初始化一个 CqWsSession 用来与 Go-CqHttp 通信
CqWsSession session = new CqWsSession(new CqWsSessionOptions()
{
    BaseUri = new Uri("ws://127.0.0.1:6700"),  // WebSocket 地址
});

session.Start();                               // 开始连接 (你也可以使用它的异步版本)
```

> 因为 WebSocket 会话是双向的, 并且是长连接, 所以在实际使用中, 更推荐 WebSocket 会话



## 执行操作

要执行一个操作, 例如发送一条消息, 你需要一个 *能够执行操作* 的会话, 例如 HTTP 会话和 WebSocket. 然后只需要使用它的 ActionSender 来执行操作即可. 下面是一个简单的操作:

```csharp

```

